
\chapter{Background}

\section{Computer Graphics}

Computer Graphics is the process of using computers to produces images.
In realtime applications, this involves using a GPU to rasterize triangles and other primitives.
This process involves producing the geometry to be rendered and then performing a lighting calculation that determines the color of each facet.

\section{Terrain Rendering}

Terrain rendering is a particular subset of computer graphics that is concerned with producing images of terrain and the associated challenges of doing so.
Terrain is important because it plays a large role in the appearance of outdoor scenes, but it is difficult because there is a tremendous amount of geometry.
Terrain rendering methods usually focus on employing level-of-detail algorithms that make it possible to render close-up terrain in high detail and far-away terrain in low detail.
Some of the main challenges these techniques aim to solve are creating the visual transitions between two areas that are rendered at different detail levels, and implementing a scheme to load in new data when the viewpoint changes.

\section{Terrain Generation}

There are many possible sources of terrain data.
Many examples of acquired data are available.
The USGS provides satellite data for much of the world's surface.
Some game engines also use terrain editing tools that allow artists to sculpt terrain.

However, it is also possible to implement algorithms that procedurally construct terrain using a variety of methods.
The advantage of using procedurally generated terrain is that it is less time/effort intensive than artistically creating a terrain, and it does not require much or any disk space (as opposed to using acquired data which can be very large).

Procedural terrain generation methodologies usually employ one or more of the follow techniques.
\begin{itemize}
\item Acquired data utilization
\item Physical process simulations
\item Fractal processes
\item Noise algorithms
\end{itemize}

\subsection{Acquired data utilization}

Some terrain generation processes utilize a small sample of real terrain data to construct a larger terrain surface, or a terrain that is similar to the original input data.
Such processes can be as simple as using texture synthesis to create new patterns, or using noise algorithms to add detail to a low resolution sample.
But some techniques employ more sophisticated processes. \cite{DEMsynthesis}

\subsection{Physical process simulations}

Real terrain is shaped by erosion, the gradual shaping of landscape caused by water, wind, and other forces.
Some terrain generation techniques simulate these physical processes on a starter dataset to create realistic surfaces. \cite{hydrology}

\subsection{Fractal processes}

Another technique for generating terrain is a fractal process, some algorithm that operates on geometry to add detail and which can be re-applied at smaller and smaller scale until a highly detailed surface results.
The most common form of fractal process is the Diamond-square Algorithm which sequentially subdivides a modulates a regular grid.

\subsection{Noise Algorithms}

Noise algorithms are similar to fractal processes but more heavily based in mathematics.
The most typical way that noise algorithms are used is by generating a patch or formula for noise (typically in 2 dimensions, though sometimes more) and employing a technique called fractional Brownian motion to create a heightmap.
Noise is generally a signal that varies randomly.
Coherent noise is a special brand of noise that is more useful for generation purposes.
As a random signal, it is reasonable to expect that a large change in domain results in a random change in output for a given noise function.
Coherent noise has the property that for small changes in domain, only a small change in output will result.

\subsubsection{Coherent Noise}

There are two major types of coherent noise.
The most simple is value noise.
Value noise is generated by calculating random numbers at fixed intervals and interpolating between the values.
Another type of coherent noise is gradient noise.
Gradient noise is generated by calculating vectors at a fixed interval, then performing a dot product to calculate intermediary values instead of interpolating.
It is a numerically similar process to value noise, but produces noise with more variance - that is, more detail in higher frequencies.

\subsubsection{Fractional Brownian Motion}

Fractional Brownian motion is a technique for taking a noise function and adding detail at higher frequencies.
The general approach is:
\begin{enumerate}
\item Take a noise function as input
\item Double the frequency and halve the amplitude of the noise function, then add it to itself. This is called the second octave.
\item Double again the frequency and halve again the amplitude of the noise function, then add this too into the sum. This is the third octave.
\item Repeat Step 3 for subsequent octaves until amplitude is close enough to zero that added octaves produce no change in the output, or until desired amount of detail is reached.
\end{enumerate}

In general you do not need to exactly double the frequency or halve the amplitude each octave, but can fine tune these values e.g. by multiplying the frequency by 1.2 and the amplitude by 0.3.

\subsubsection{Ridged Multifractal}

An additional step can be added before summing each individual octave.
By first taking the negated absolute value of each generated noise value, a ridged version of fractional brownian motion can be created.
This technique is commonly referred to as Ridged multifractal, or RMf.

\subsubsection{Distorted Noise}

Ridged multifractal works on fractal brownian motion by modifying the range of each noise function, but it is also possible to modify the domain in a similar fashion.
Using two additional FBM generators, an offset vector can be produced for each sample of the height generator.
This technique helps break up the homogeneous appearance of generated terrain by shrinking and expanding different areas.
